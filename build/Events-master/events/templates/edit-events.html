{% extends "index.html" %}
{% block content %}

<div id="events">
    Public Events:
    <button onclick="displayEvent('newEvent')">New</button>
    <div id="newEvent" style=display:none class=hidden>
        <form action="{{ url_for('createPublicEvent') }}" method="POST">
            <br/>
            <div>
                <label for="event_name">Event name:</label>
                <input type="text" name="event_name" id="name" size="30">
            </div>
            <div>
                <label for="date">Date:</label>
                <input type="date" name="event_date" id="date" size="30">
            </div>
            <div>
                <label for="event_description">Event description:</label>
                <textarea name="event_description" id="event_description" style=width:245px rows="7"></textarea>
            </div>
            <div>
                <label for="event_facebook_link">Facebook event link:</label>
                <input type="text" name="event_facebook_link" id="event_facebook_link" size="30" >
            </div>
            <input type="file" onchange="previewFile()"><br>
            <img src="" height="100" alt="Image preview...">

            <input type="hidden" name="publicEvents" value="NULL"/>
            <button type="action">Create</button>
        </form>    
    </div>
   

    <ul id="events_list">
    {% for event in publicEvents %}
    
        <li>{{event.event_name}}   {{event.event_date}}</li>
        <button onclick="displayEvent({{event.event_id}})" class="buttonPosition">edit</button>
        <div id={{event.event_id}} style=display:none class=hidden>
        <form action="{{ url_for('updateEventInfo') }}" method="POST">
            <br/>
            <div>
                <label for="event_name">Event name:</label>
                <input type="text" name="event_name" id="name" size="30" value="{{event.event_name}}">
            </div>
            <div>
                <label for="date">Date:</label>
                <input type="date" name="event_date" id="date" size="30" value="{{event.event_date}}">
            </div>
            <div>
                <label for="event_description">Event description:</label>
                <textarea name="event_description" id="event_description" style=width:245px rows="7">{{event.event_description}}</textarea>
            </div>
            <div>
                <label for="event_facebook_link">Facebook event link:</label>
                <input type="text" name="event_facebook_link" id="event_facebook_link" size="30" value="{{event.event_facebook_link}}">

                <input type="file" name="event_image" onchange="previewFile()"><br>
                <img src="{{event.event_image}}" height="100" alt="Image preview...">
            </div>
            <input type="hidden" name="publicEvents" value="{{event.publicEvents}}"/>
            <input type="hidden" name="event_id" value="{{event.event_id}}"/>
            <button type="action">Save</button>
        </form>
        </div>
        <form action="{{url_for('deleteEvent', event_id=event.event_id) }}">
                <button type="action" class="buttonPosition">delete</button>
            </form>
    
    {% endfor %}
    </ul>
</div>

<div id="events">
    Private Events:
    <ul id="events_list">
    {% for event in privateEvents %}
        <li>{{event.event_name}}   {{event.event_date}}</li>
        <button>Edit</button>
    {% endfor %}
    </ul>
</div>


{% endblock %}